(this["webpackJsonpcrypto-portfolio-tracker"]=this["webpackJsonpcrypto-portfolio-tracker"]||[]).push([[0],{34:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(3),l=s.n(c),o=s(5),i=s(2),r=s(1),d=function(e){var t=e.coin;return Object(r.jsxs)("div",{className:"flex items-center h-16 text-center divide-solid divide-gray-400 divide-x-2 justify-between p-4 my-2 w-full shadow-sm border-gray-300 border rounded",children:[Object(r.jsx)("h2",{className:"w-1/4 text-lg font-semibold text-blue-600",children:function(e){var t=e.split("-");return(t=t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))).join(" ")}(t.id)}),Object(r.jsxs)("h2",{className:"w-1/4 text-lg font-semibold m-2",children:[t.amount," coins"]}),Object(r.jsxs)("h2",{className:"w-1/4 text-lg font-semibold",children:["$",t.totalCost.toFixed(2)]}),Object(r.jsxs)("h2",{className:"w-1/4 text-lg font-semibold",children:["$",t.realizedGains.toFixed(2)]})]})},u=function(e){var t=e.coins;return Object(r.jsxs)("div",{className:"h-full p-4 flex flex-col justify-evenly gap-6",children:[Object(r.jsx)("h2",{className:"text-2xl text-center font-bold mt-2",children:"Holdings"}),Object(r.jsxs)("div",{className:"flex justify-evenly",children:[Object(r.jsx)("h2",{className:"text-xl font-sans font-semi-bold text-gray-700",children:"Coin Name:"}),Object(r.jsx)("h2",{className:"text-xl font-sans font-semi-bold text-gray-700",children:"Amount of Coins:"}),Object(r.jsx)("h2",{className:"text-xl font-sans font-semi-bold text-gray-700",children:"Total Cost:"}),Object(r.jsx)("h2",{className:"text-xl font-sans font-semi-bold text-gray-700",children:"Realized Gains:"})]}),Object(r.jsx)("div",{className:"overflow-auto mb-2 px-2",children:t&&t.map((function(e,t){return Object(r.jsx)(d,{coin:e},t)}))})]})},j=function(){return Object(r.jsx)("div",{className:"p-4",children:Object(r.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Chart"})})},b=function(e){var t=e.coins;return Object(r.jsxs)("div",{className:"flex flex-col col-span-1 row-span-2 sm:row-span-1 sm:col-span-2",children:[Object(r.jsx)("div",{className:"h-3/5 bg-white w-full rounded-xl shadow-xl mb-2",children:Object(r.jsx)(j,{coins:t})}),Object(r.jsx)("div",{className:"h-2/5 bg-white w-full rounded-xl shadow-xl mt-2",children:Object(r.jsx)(u,{coins:t})})]})},m=s(10),x=function(e){var t=e.changeCoin,s=Object(n.useState)(),a=Object(i.a)(s,2),c=a[0],l=a[1],o=Object(n.useState)(),d=Object(i.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)(),x=Object(i.a)(b,2),h=x[0],f=x[1],O=Object(n.useState)(""),p=Object(i.a)(O,2),g=p[0],v=p[1],N=Object(n.useState)(""),y=Object(i.a)(N,2),w=y[0],C=y[1],S=Object(n.useRef)();Object(n.useEffect)((function(){fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1&sparkline=false").then((function(e){return e.json()})).then((function(e){f(e.map((function(e){return{value:e.symbol,label:e.id}})))}))}),[]);return Object(r.jsxs)("div",{className:"p-4 col-span-1 row-span-1 bg-white rounded-xl shadow-xl flex flex-col align-center",children:[Object(r.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Transactions"}),Object(r.jsx)("h4",{className:"form-label",children:"Select a Coin:"}),Object(r.jsx)(m.a,{options:h,onChange:function(e){l(e.label)},className:"shadow-sm"}),Object(r.jsx)("h4",{className:"form-label",children:"Was this a buy or a sell?:"}),Object(r.jsx)(m.a,{options:[{value:"buy",label:"Buy"},{value:"sell",label:"Sell"}],onChange:function(e){j(e.value)},className:"shadow-sm"}),Object(r.jsx)("h4",{className:"form-label",children:"How many coins did you transact?"}),Object(r.jsx)("input",{type:"number",className:"number-input",value:g,onChange:function(e){v(e.target.value)},placeholder:"Amount"}),Object(r.jsx)("h4",{className:"form-label",children:"Cost of each coin?"}),Object(r.jsx)("input",{type:"number",className:"number-input",value:w,onChange:function(e){C(e.target.value)},placeholder:"Cost $"}),Object(r.jsx)("button",{ref:S,onClick:function(){S.current.blur(),c&&u&&g&&w&&(console.log(c+" "+u+" "+g+" "+w),t(c,u,g,w))},className:"btn-blue",children:Object(r.jsx)("p",{className:"text-white",children:"Submit"})})]})},h=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),s=t[0],a=t[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("coins"));null==e?(localStorage.setItem("coins",JSON.stringify([])),a([])):a(e)}),[]);return Object(r.jsx)("div",{className:"w-full h-full sm:h-screen bg-gray-100",children:Object(r.jsx)("div",{className:"container mx-auto py-6 sm:py-12 h-full",children:Object(r.jsxs)("div",{className:"h-full px-4 sm:px-0 grid sm:grid-cols-3 sm:grid-rows-1 grid-cols-1 grid-rows-3 gap-4",children:[Object(r.jsx)(b,{coins:s}),Object(r.jsx)(x,{changeCoin:function(e,t,n,c){var l={};n=parseFloat(n),c=parseFloat(c);var i=s.findIndex((function(t){return t.id===e}));if("buy"===t)-1===i?(l.id=e,l.cost=c,l.amount=n,l.totalCost=c*n,l.realizedGains=0):((l=s[i]).totalCost=l.totalCost+c*n,l.amount=l.amount+n,l.cost=l.totalCost/l.amount);else if("sell"===t){if(-1===i)return void alert("Tried selling with no coins in list, Try again!");if(!((l=s[i]).amount-n>=0))return void alert("You tried selling more coins than you have recorded! Try again!");l.amount=l.amount-n,l.realizedGains=l.realizedGains+(n*c-n*l.cost),0===l.amount&&(l.totalCost=0,l.cost=0)}var r=s;-1!==i?r[i]=l:r.push(l),r=r.sort((function(e,t){return t.totalCost-e.totalCost})),a(Object(o.a)(r)),localStorage.setItem("coins",JSON.stringify(r))}})]})})})};s(34);l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(h,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.27cc0bf0.chunk.js.map