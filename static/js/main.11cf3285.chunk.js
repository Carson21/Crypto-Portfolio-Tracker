(this["webpackJsonpcrypto-portfolio-tracker"]=this["webpackJsonpcrypto-portfolio-tracker"]||[]).push([[0],{34:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(3),o=s.n(c),l=s(5),r=s(2),i=s(1),u=function(e){var t=e.coin;return Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:[t.id," ",t.amount," ",t.cost," ",t.totalCost," ",t.realizedGains]})})},j=function(e){var t=e.coins;return Object(i.jsxs)("div",{className:"overflow-auto p-4",children:[Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Holdings"}),t&&t.map((function(e,t){return Object(i.jsx)(u,{coin:e},t)}))]})},b=function(){return Object(i.jsx)("div",{className:"p-4",children:Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Chart"})})},d=function(e){var t=e.coins;return Object(i.jsxs)("div",{className:"flex flex-col col-span-1 row-span-2 sm:row-span-1 sm:col-span-2",children:[Object(i.jsx)("div",{className:"h-2/3 bg-white w-full rounded-xl shadow-xl mb-2",children:Object(i.jsx)(b,{coins:t})}),Object(i.jsx)("div",{className:"h-1/3 bg-white w-full rounded-xl shadow-xl mt-2",children:Object(i.jsx)(j,{coins:t})})]})},m=s(10),h=function(e){var t=e.changeCoin,s=Object(n.useState)(),a=Object(r.a)(s,2),c=a[0],o=a[1],l=Object(n.useState)(),u=Object(r.a)(l,2),j=u[0],b=u[1],d=Object(n.useState)(),h=Object(r.a)(d,2),f=h[0],x=h[1],O=Object(n.useState)(""),p=Object(r.a)(O,2),g=p[0],v=p[1],N=Object(n.useState)(""),w=Object(r.a)(N,2),y=w[0],C=w[1],S=Object(n.useRef)();Object(n.useEffect)((function(){fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1&sparkline=false").then((function(e){return e.json()})).then((function(e){x(e.map((function(e){return{value:e.symbol,label:e.id}})))}))}),[]);return Object(i.jsxs)("div",{className:"p-4 col-span-1 row-span-1 bg-white rounded-xl shadow-xl flex flex-col align-center",children:[Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Transactions"}),Object(i.jsx)("h4",{className:"form-label",children:"Select a Coin:"}),Object(i.jsx)(m.a,{options:f,onChange:function(e){o(e.label)},className:"shadow-sm"}),Object(i.jsx)("h4",{className:"form-label",children:"Was this a buy or a sell?:"}),Object(i.jsx)(m.a,{options:[{value:"buy",label:"Buy"},{value:"sell",label:"Sell"}],onChange:function(e){b(e.value)},className:"shadow-sm"}),Object(i.jsx)("h4",{className:"form-label",children:"How many coins did you transact?"}),Object(i.jsx)("input",{type:"number",className:"number-input",value:g,onChange:function(e){v(e.target.value)},placeholder:"Amount"}),Object(i.jsx)("h4",{className:"form-label",children:"Cost of each coin?"}),Object(i.jsx)("input",{type:"number",className:"number-input",value:y,onChange:function(e){C(e.target.value)},placeholder:"Cost $"}),Object(i.jsx)("button",{ref:S,onClick:function(){S.current.blur(),c&&j&&g&&y&&(console.log(c+" "+j+" "+g+" "+y),t(c,j,g,y))},className:"btn-blue",children:Object(i.jsx)("p",{className:"text-white",children:"Submit"})})]})},f=function(){var e=Object(n.useState)(),t=Object(r.a)(e,2),s=t[0],a=t[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("coins"));null==e?(localStorage.setItem("coins",JSON.stringify([])),a([])):a(e)}),[]);return Object(i.jsx)("div",{className:"w-full h-full sm:h-screen bg-gray-100",children:Object(i.jsx)("div",{className:"container mx-auto py-6 sm:py-12 h-full",children:Object(i.jsxs)("div",{className:"h-full px-4 sm:px-0 grid sm:grid-cols-3 sm:grid-rows-1 grid-cols-1 grid-rows-3 gap-4",children:[Object(i.jsx)(d,{coins:s}),Object(i.jsx)(h,{changeCoin:function(e,t,n,c){var o={};n=parseFloat(n),c=parseFloat(c);var r=s.findIndex((function(t){return t.id===e}));if("buy"===t)-1===r?(o.id=e,o.cost=c,o.amount=n,o.totalCost=c*n,o.realizedGains=0):((o=s[r]).totalCost=o.totalCost+c*n,o.amount=o.amount+n,o.cost=o.totalCost/o.amount);else if("sell"===t){if(-1===r)return void alert("Tried selling with no coins in list, Try again!");if(!((o=s[r]).amount-n>=0))return void alert("You tried selling more coins than you have recorded! Try again!");o.amount=o.amount-n,o.realizedGains=o.realizedGains+(n*c-n*o.cost),0===o.amount&&(o.totalCost=0,o.cost=0)}var i=s;-1!==r?i[r]=o:i.push(o),i=i.sort((function(e,t){return t.totalCost-e.totalCost})),a(Object(l.a)(i)),localStorage.setItem("coins",JSON.stringify(i))}})]})})})};s(34);o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.11cf3285.chunk.js.map