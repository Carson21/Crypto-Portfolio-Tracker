(this["webpackJsonpcrypto-portfolio-tracker"]=this["webpackJsonpcrypto-portfolio-tracker"]||[]).push([[0],{34:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(3),l=s.n(c),o=s(5),r=s(2),i=s(1),u=function(e){var t=e.coin;return Object(i.jsx)("div",{children:Object(i.jsxs)("p",{children:[t.id," ",t.amount," ",t.cost," ",t.totalCost," ",t.realizedGains]})})},j=function(e){var t=e.coins;return Object(i.jsxs)("div",{className:"h-full p-4 flex flex-col justify-evenly gap-6",children:[Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-2",children:"Holdings"}),Object(i.jsx)("div",{className:"overflow-auto mb-2",children:t&&t.map((function(e,t){return Object(i.jsx)(u,{coin:e},t)}))})]})},b=function(){return Object(i.jsx)("div",{className:"p-4",children:Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Chart"})})},d=function(e){var t=e.coins;return Object(i.jsxs)("div",{className:"flex flex-col col-span-1 row-span-2 sm:row-span-1 sm:col-span-2",children:[Object(i.jsx)("div",{className:"h-2/3 bg-white w-full rounded-xl shadow-xl mb-2",children:Object(i.jsx)(b,{coins:t})}),Object(i.jsx)("div",{className:"h-1/3 bg-white w-full rounded-xl shadow-xl mt-2",children:Object(i.jsx)(j,{coins:t})})]})},m=s(10),h=function(e){var t=e.changeCoin,s=Object(a.useState)(),n=Object(r.a)(s,2),c=n[0],l=n[1],o=Object(a.useState)(),u=Object(r.a)(o,2),j=u[0],b=u[1],d=Object(a.useState)(),h=Object(r.a)(d,2),f=h[0],x=h[1],O=Object(a.useState)(""),p=Object(r.a)(O,2),g=p[0],v=p[1],N=Object(a.useState)(""),y=Object(r.a)(N,2),w=y[0],C=y[1],S=Object(a.useRef)();Object(a.useEffect)((function(){fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1&sparkline=false").then((function(e){return e.json()})).then((function(e){x(e.map((function(e){return{value:e.symbol,label:e.id}})))}))}),[]);return Object(i.jsxs)("div",{className:"p-4 col-span-1 row-span-1 bg-white rounded-xl shadow-xl flex flex-col align-center",children:[Object(i.jsx)("h2",{className:"text-2xl text-center font-bold mt-4",children:"Transactions"}),Object(i.jsx)("h4",{className:"form-label",children:"Select a Coin:"}),Object(i.jsx)(m.a,{options:f,onChange:function(e){l(e.label)},className:"shadow-sm"}),Object(i.jsx)("h4",{className:"form-label",children:"Was this a buy or a sell?:"}),Object(i.jsx)(m.a,{options:[{value:"buy",label:"Buy"},{value:"sell",label:"Sell"}],onChange:function(e){b(e.value)},className:"shadow-sm"}),Object(i.jsx)("h4",{className:"form-label",children:"How many coins did you transact?"}),Object(i.jsx)("input",{type:"number",className:"number-input",value:g,onChange:function(e){v(e.target.value)},placeholder:"Amount"}),Object(i.jsx)("h4",{className:"form-label",children:"Cost of each coin?"}),Object(i.jsx)("input",{type:"number",className:"number-input",value:w,onChange:function(e){C(e.target.value)},placeholder:"Cost $"}),Object(i.jsx)("button",{ref:S,onClick:function(){S.current.blur(),c&&j&&g&&w&&(console.log(c+" "+j+" "+g+" "+w),t(c,j,g,w))},className:"btn-blue",children:Object(i.jsx)("p",{className:"text-white",children:"Submit"})})]})},f=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),s=t[0],n=t[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("coins"));null==e?(localStorage.setItem("coins",JSON.stringify([])),n([])):n(e)}),[]);return Object(i.jsx)("div",{className:"w-full h-full sm:h-screen bg-gray-100",children:Object(i.jsx)("div",{className:"container mx-auto py-6 sm:py-12 h-full",children:Object(i.jsxs)("div",{className:"h-full px-4 sm:px-0 grid sm:grid-cols-3 sm:grid-rows-1 grid-cols-1 grid-rows-3 gap-4",children:[Object(i.jsx)(d,{coins:s}),Object(i.jsx)(h,{changeCoin:function(e,t,a,c){var l={};a=parseFloat(a),c=parseFloat(c);var r=s.findIndex((function(t){return t.id===e}));if("buy"===t)-1===r?(l.id=e,l.cost=c,l.amount=a,l.totalCost=c*a,l.realizedGains=0):((l=s[r]).totalCost=l.totalCost+c*a,l.amount=l.amount+a,l.cost=l.totalCost/l.amount);else if("sell"===t){if(-1===r)return void alert("Tried selling with no coins in list, Try again!");if(!((l=s[r]).amount-a>=0))return void alert("You tried selling more coins than you have recorded! Try again!");l.amount=l.amount-a,l.realizedGains=l.realizedGains+(a*c-a*l.cost),0===l.amount&&(l.totalCost=0,l.cost=0)}var i=s;-1!==r?i[r]=l:i.push(l),i=i.sort((function(e,t){return t.totalCost-e.totalCost})),n(Object(o.a)(i)),localStorage.setItem("coins",JSON.stringify(i))}})]})})})};s(34);l.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.757d52cc.chunk.js.map